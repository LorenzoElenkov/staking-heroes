{"remainingRequest":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/src/components/gem-farm/FarmerDisplay.vue?vue&type=template&id=86f7be18&ts=true","dependencies":[{"path":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/src/components/gem-farm/FarmerDisplay.vue","mtime":1660501558943},{"path":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/node_modules/cache-loader/dist/cjs.js","mtime":1659782032043},{"path":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/node_modules/babel-loader/lib/index.js","mtime":1659782032013},{"path":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/node_modules/ts-loader/index.js","mtime":1659782043109},{"path":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1659782045677},{"path":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/node_modules/cache-loader/dist/cjs.js","mtime":1659782032043},{"path":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/node_modules/vue-loader-v16/dist/index.js","mtime":1659782045677}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iZmxleCBmbGV4LWNvbCB0ZXh0LTJ4bCI+CiAgICA8ZGl2IGNsYXNzPSJtYi01IHNlbGYtY2VudGVyIHRleHQtM3hsIj4KICAgICAgPHAgdi1pZj0iZmFybWVyQWNjLmdlbXNTdGFrZWQgPiAwIiBjbGFzcz0idGV4dC1jZW50ZXIgdGV4dC02eGwiPgogICAgICAgIHt7IGZhcm1lckFjYy5nZW1zU3Rha2VkIH19CiAgICAgIDwvcD4KICAgICAgPHAgY2xhc3M9ImlubGluZS1ibG9jayI+CiAgICAgICAge3sgZmFybWVyQWNjLmdlbXNTdGFrZWQgPiAwID8gJ0hlcm9lcyBTVEFLRUQnIDogJ05vIEhlcm9lcyBTVEFLRUQnIH19CiAgICAgIDwvcD4KICAgIDwvZGl2PgogICAgPGRpdiB2LWlmPSJmYXJtZXJBY2MuZ2Vtc1N0YWtlZCA+IDAiIGNsYXNzPSJtYi0yIj4KICAgICAgWW91IGNhbiB1bnN0YWtlIGluIHt7IHBhcnNlRGF0ZShmYXJtZXJBY2MubWluU3Rha2luZ0VuZHNUcykgfX0KICAgIDwvZGl2PgogICAgPGRpdiB2LWlmPSJwYXJzZURhdGUoZmFybWVyQWNjLmNvb2xkb3duRW5kc1RzKSA+IDAiIGNsYXNzPSJtYi01Ij4KICAgICAgQ29vbGRvd24gZW5kczoge3sgcGFyc2VEYXRlKGZhcm1lckFjYy5jb29sZG93bkVuZHNUcykgfX0KICAgIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9ImZsZXggZmxleC1jb2wgbWItNSI+CiAgICAgIDxkaXYgY2xhc3M9ImZsZXgtMSI+CiAgICAgICAgPEZhcm1lclJld2FyZERpc3BsYXkKICAgICAgICAgIDprZXk9ImZhcm1lckFjYy5yZXdhcmRBIgogICAgICAgICAgOmZhcm1SZXdhcmQ9ImZhcm1BY2MucmV3YXJkQSIKICAgICAgICAgIDpyZXdhcmQ9ImZhcm1lckFjYy5yZXdhcmRBIgogICAgICAgICAgdGl0bGU9IlJld2FyZCBBIgogICAgICAgIC8+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8IS0tIDxidXR0b24gY2xhc3M9Im5lcy1idG4gaXMtcHJpbWFyeSBtYi01IiBAY2xpY2s9InJlZnJlc2hGYXJtZXIiPgogICAgICBSZWZyZXNoIGFjY291bnQKICAgIDwvYnV0dG9uPiAtLT4KICA8L2Rpdj4K"},{"version":3,"sources":["/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/src/components/gem-farm/FarmerDisplay.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC3B,CAAC,CAAC,CAAC;MACH,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACtE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/C,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/D,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACzD,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACjB,CAAC;MACH,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/elenkovlorenzo/staking-heroes/gem-farm/app/gem-farm/src/components/gem-farm/FarmerDisplay.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"flex flex-col text-2xl\">\n    <div class=\"mb-5 self-center text-3xl\">\n      <p v-if=\"farmerAcc.gemsStaked > 0\" class=\"text-center text-6xl\">\n        {{ farmerAcc.gemsStaked }}\n      </p>\n      <p class=\"inline-block\">\n        {{ farmerAcc.gemsStaked > 0 ? 'Heroes STAKED' : 'No Heroes STAKED' }}\n      </p>\n    </div>\n    <div v-if=\"farmerAcc.gemsStaked > 0\" class=\"mb-2\">\n      You can unstake in {{ parseDate(farmerAcc.minStakingEndsTs) }}\n    </div>\n    <div v-if=\"parseDate(farmerAcc.cooldownEndsTs) > 0\" class=\"mb-5\">\n      Cooldown ends: {{ parseDate(farmerAcc.cooldownEndsTs) }}\n    </div>\n\n    <div class=\"flex flex-col mb-5\">\n      <div class=\"flex-1\">\n        <FarmerRewardDisplay\n          :key=\"farmerAcc.rewardA\"\n          :farmReward=\"farmAcc.rewardA\"\n          :reward=\"farmerAcc.rewardA\"\n          title=\"Reward A\"\n        />\n      </div>\n    </div>\n    <!-- <button class=\"nes-btn is-primary mb-5\" @click=\"refreshFarmer\">\n      Refresh account\n    </button> -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, watch } from 'vue';\nimport FarmerRewardDisplay from '@/components/gem-farm/FarmerRewardDisplay.vue';\nimport useWallet from '@/composables/wallet';\nimport useCluster from '@/composables/cluster';\nimport { initGemFarm } from '@/common/gem-farm';\nimport { PublicKey } from '@solana/web3.js';\nimport { parseDate } from '@/common/util';\n\nexport default defineComponent({\n  components: { FarmerRewardDisplay },\n  props: {\n    farm: String,\n    farmAcc: Object,\n    farmer: String,\n    farmerAcc: Object,\n  },\n  emits: ['refresh-farmer'],\n  setup(props, ctx) {\n    const { wallet, getWallet } = useWallet();\n    const { cluster, getConnection } = useCluster();\n\n    let gf: any;\n    watch([wallet, cluster], async () => {\n      gf = await initGemFarm(getConnection(), getWallet()!);\n    });\n\n    //need an onmounted hook because this component isn't yet mounted when wallet/cluster are set\n    onMounted(async () => {\n      if (getWallet() && getConnection()) {\n        gf = await initGemFarm(getConnection(), getWallet()!);\n      }\n    });\n\n    // --------------------------------------- display farmer\n    // todo ideally should be using one from client, but n/a during render\n    const parseFarmerState = (farmer: any): string => {\n      return Object.keys(farmer.state)[0];\n    };\n\n    const refreshFarmer = async () => {\n      await gf.refreshFarmerWallet(\n        new PublicKey(props.farm!),\n        new PublicKey(props.farmer!)\n      );\n      ctx.emit('refresh-farmer');\n    };\n\n    return {\n      refreshFarmer,\n      parseFarmerState,\n      parseDate,\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n"]}]}